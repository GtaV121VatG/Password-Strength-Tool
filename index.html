<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Password Strength Analyzer</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  font-family: Arial, sans-serif;
  background: black;
  overflow: hidden;
}

#background {
  position: fixed;
  inset: 0;
  z-index: 0;
}

#breachOverlay {
  position: fixed;
  inset: 0;
  background: rgba(255, 0, 0, 0.35);
  opacity: 0;
  pointer-events: none;
  z-index: 1;
}

.breach-active {
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0% { opacity: 0.1; }
  50% { opacity: 0.45; }
  100% { opacity: 0.1; }
}

.container {
  position: relative;
  z-index: 2;
  width: 420px;
  margin: 120px auto;
  background: white;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.5);
}

h2 {
  text-align: center;
}

.input-wrap {
  display: flex;
  align-items: center;
  gap: 6px;
}

input {
  flex: 1;
  padding: 10px;
  font-size: 16px;
}

.eye {
  cursor: pointer;
  font-size: 18px;
  user-select: none;
}

button {
  margin-top: 10px;
  padding: 10px 14px;
  font-size: 16px;
  background: #4caf50;
  border: none;
  color: white;
  cursor: pointer;
  border-radius: 4px;
}

.bar {
  width: 100%;
  height: 14px;
  background: #eee;
  border-radius: 10px;
  margin-top: 20px;
  overflow: hidden;
}

.fill {
  height: 100%;
  width: 0%;
  background: red;
  transition: width 0.4s, background 0.4s;
}

ul {
  padding-left: 18px;
  color: red;
}

.breach-text {
  color: darkred;
  font-weight: bold;
  margin-top: 10px;
  display: none;
  animation: blink 1s infinite;
}

@keyframes blink {
  50% { opacity: 0; }
}
</style>
</head>

<body>

<canvas id="background"></canvas>
<div id="breachOverlay"></div>

<div class="container" id="card">
  <h2>Password Strength Analyzer and Breach Awareness Tool</h2>

  <div class="input-wrap">
    <input type="password" id="password" placeholder="Enter password">
    <span class="eye" onclick="togglePassword()">üëÅ</span>
  </div>

  <button onclick="checkPassword()">Check</button>

  <div class="bar">
    <div class="fill" id="fill"></div>
  </div>

  <p id="strength">Strength:</p>
  <p class="breach-text" id="breachText">‚ö† POTENTIAL BREACH RISK DETECTED ‚ö†</p>
  <ul id="feedback"></ul>
</div>

<script>
const canvas = document.getElementById("background");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

let dots = [];
for (let i = 0; i < 120; i++) {
  dots.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    dx: (Math.random() - 0.5) * 1.2,
    dy: (Math.random() - 0.5) * 1.2,
    r: Math.random() * 2 + 1
  });
}

function animateBackground() {
  ctx.fillStyle = "rgba(0,0,0,0.25)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  dots.forEach(d => {
    d.x += d.dx;
    d.y += d.dy;

    if (d.x < 0 || d.x > canvas.width) d.dx *= -1;
    if (d.y < 0 || d.y > canvas.height) d.dy *= -1;

    ctx.beginPath();
    ctx.arc(d.x, d.y, d.r, 0, Math.PI * 2);
    ctx.fillStyle = "#00aaff";
    ctx.fill();
  });

  requestAnimationFrame(animateBackground);
}

animateBackground();

function togglePassword() {
  const input = document.getElementById("password");
  input.type = input.type === "password" ? "text" : "password";
}

function checkPassword() {
  const pw = password.value;
  const fill = document.getElementById("fill");
  const list = document.getElementById("feedback");
  const strength = document.getElementById("strength");
  const overlay = document.getElementById("breachOverlay");
  const breachText = document.getElementById("breachText");

  list.innerHTML = "";
  overlay.classList.remove("breach-active");
  breachText.style.display = "none";

  if (pw.length === 0) return;

  let charset = 0;
  if (/[a-z]/.test(pw)) charset += 26;
  if (/[A-Z]/.test(pw)) charset += 26;
  if (/[0-9]/.test(pw)) charset += 10;
  if (/[^A-Za-z0-9]/.test(pw)) charset += 32;

  if (charset === 0) charset = 26;

  const guessesPerSecond = 1e10;
  const keyspace = Math.pow(charset, pw.length);
  const seconds = keyspace / guessesPerSecond;

  function formatTime(sec) {
    if (sec < 1) return "<1s";
    if (sec < 60) return sec.toFixed(1) + "s";
    if (sec < 3600) return (sec / 60).toFixed(1) + "m";
    if (sec < 86400) return (sec / 3600).toFixed(1) + "h";
    if (sec < 31536000) return (sec / 86400).toFixed(1) + "d";
    return (sec / 31536000).toFixed(1) + "y";
  }

  const crackTime = formatTime(seconds);

  if (seconds < 1e6) {
    fill.style.width = "25%";
    fill.style.background = "red";
    strength.textContent = "Strength: Weak (" + crackTime + ")";
    overlay.classList.add("breach-active");
    breachText.style.display = "block";
  } else if (seconds < 1e12) {
    fill.style.width = "60%";
    fill.style.background = "orange";
    strength.textContent = "Strength: Medium (" + crackTime + ")";
  } else {
    fill.style.width = "100%";
    fill.style.background = "green";
    strength.textContent = "Strength: Strong (" + crackTime + ")";
  }

  if (!/[A-Z]/.test(pw)) list.innerHTML += "<li>No uppercase letters</li>";
  if (!/[0-9]/.test(pw)) list.innerHTML += "<li>No digits</li>";
  if (!/[^A-Za-z0-9]/.test(pw)) list.innerHTML += "<li>No special characters</li>";
}
</script>

</body>
</html>
