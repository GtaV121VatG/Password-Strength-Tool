<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Password Strength Analyzer</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  font-family: Arial, sans-serif;
  background: black;
  overflow: hidden;
}

/* Background animation */
#background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

/* Breach overlay */
#breachOverlay {
  position: fixed;
  inset: 0;
  background: rgba(255, 0, 0, 0.35);
  opacity: 0;
  pointer-events: none;
  z-index: 1;
}

.breach-active {
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0% { opacity: 0.1; }
  50% { opacity: 0.45; }
  100% { opacity: 0.1; }
}

/* Main card */
.container {
  position: relative;
  z-index: 2;
  width: 420px;
  margin: 120px auto;
  background: white;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.5);
}

.shake {
  animation: shake 0.4s;
}

@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-6px); }
  100% { transform: translateX(0); }
}

h2 {
  text-align: center;
}

input {
  width: 70%;
  padding: 10px;
  font-size: 16px;
}

button {
  padding: 10px 14px;
  font-size: 16px;
  background: #4caf50;
  border: none;
  color: white;
  cursor: pointer;
  border-radius: 4px;
}

.bar {
  width: 100%;
  height: 14px;
  background: #eee;
  border-radius: 10px;
  margin-top: 20px;
  overflow: hidden;
}

.fill {
  height: 100%;
  width: 0%;
  background: red;
  transition: width 0.4s, background 0.4s;
}

ul {
  padding-left: 18px;
  color: red;
}

.breach-text {
  color: darkred;
  font-weight: bold;
  margin-top: 10px;
  display: none;
  animation: blink 1s infinite;
}

@keyframes blink {
  50% { opacity: 0; }
}

#details {
  margin-top: 10px;
}
</style>
</head>

<body>

<canvas id="background"></canvas>
<div id="breachOverlay"></div>

<div class="container" id="card">
  <h2>Password Strength Analyzer and Breach Awareness Tool</h2>

  <input type="password" id="password" placeholder="Enter password">
  <button onclick="checkPassword()">Check</button>

  <div class="bar">
    <div class="fill" id="fill"></div>
  </div>

  <p id="strength">Strength:</p>
  <p class="breach-text" id="breachText">⚠ POTENTIAL BREACH RISK DETECTED ⚠</p>
  <p id="details"></p>
  <ul id="feedback"></ul>
</div>

<script>
/* ===== BACKGROUND ANIMATION ===== */
const canvas = document.getElementById("background");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

let dots = [];
for (let i = 0; i < 120; i++) {
  dots.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    dx: (Math.random() - 0.5) * 1.2,
    dy: (Math.random() - 0.5) * 1.2,
    r: Math.random() * 2 + 1
  });
}

function animateBackground() {
  ctx.fillStyle = "rgba(0,0,0,0.25)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  dots.forEach(d => {
    d.x += d.dx;
    d.y += d.dy;

    if (d.x < 0 || d.x > canvas.width) d.dx *= -1;
    if (d.y < 0 || d.y > canvas.height) d.dy *= -1;

    ctx.beginPath();
    ctx.arc(d.x, d.y, d.r, 0, Math.PI * 2);
    ctx.fillStyle = "#00aaff";
    ctx.fill();
  });

  requestAnimationFrame(animateBackground);
}

animateBackground();

/* ===== PASSWORD CHECK ===== */
function checkPassword() {
  const pw = password.value;
  const fill = document.getElementById("fill");
  const list = document.getElementById("feedback");
  const strength = document.getElementById("strength");
  const overlay = document.getElementById("breachOverlay");
  const card = document.getElementById("card");
  const breachText = document.getElementById("breachText");
  const details = document.getElementById("details");

  list.innerHTML = "";
  overlay.classList.remove("breach-active");
  breachText.style.display = "none";
  details.innerHTML = "";

  let score = 0;
  let charset = 0;

  // Check character types
  if (pw.length >= 8) score++;
  else list.innerHTML += "<li>Password is shorter than 8 characters</li>";

  if (/[A-Z]/.test(pw)) { score++; charset += 26; }
  else list.innerHTML += "<li>Add uppercase letters</li>";

  if (/[a-z]/.test(pw)) charset += 26;

  if (/[0-9]/.test(pw)) { score++; charset += 10; }
  else list.innerHTML += "<li>Add numbers</li>";

  if (/[^A-Za-z0-9]/.test(pw)) { score++; charset += 32; }
  else list.innerHTML += "<li>Add special characters</li>";

  const percent = (score / 4) * 100;
  fill.style.width = percent + "%";

  // Realistic crack time calculation
  const guessesPerSecond = 1e10; // 10 billion guesses/sec
  const keyspace = Math.pow(charset || 1, pw.length);
  let seconds = keyspace / guessesPerSecond;

  function formatTime(sec) {
    if (sec < 1) return "Less than 1 second";
    if (sec < 60) return `${sec.toFixed(1)} seconds`;
    if (sec < 3600) return `${(sec / 60).toFixed(1)} minutes`;
    if (sec < 86400) return `${(sec / 3600).toFixed(1)} hours`;
    if (sec < 31536000) return `${(sec / 86400).toFixed(1)} days`;
    if (sec < 3153600000) return `${(sec / 31536000).toFixed(1)} years`;
    return "Thousands of years or more";
  }

  const crackTime = formatTime(seconds);
  const entropy = pw.length * Math.log2(charset || 1);

  // Display details
  details.innerHTML = `
    <strong>Length:</strong> ${pw.length} characters<br>
    <strong>Character set size:</strong> ${charset}<br>
    <strong>Entropy:</strong> ${entropy.toFixed(1)} bits<br>
    <strong>Estimated time to crack:</strong> ${crackTime}
  `;

  // Strength and breach logic
  if (score <= 1) {
    fill.style.background = "red";
    strength.textContent = "Strength: Weak";
    overlay.classList.add("breach-active");
    breachText.style.display = "block";
    card.classList.add("shake");
    setTimeout(() => card.classList.remove("shake"), 400);
  } else if (score === 2) {
    fill.style.background = "orange";
    strength.textContent = "Strength: Medium";
  } else {
    fill.style.background = "green";
    strength.textContent = "Strength: Strong";
  }
}
</script>

</body>
</html>
