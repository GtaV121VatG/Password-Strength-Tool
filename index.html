<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Strength Analyzer and Breach Awareness Tool</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Roboto', sans-serif; background: #f0f2f5; padding: 40px; display: flex; justify-content: center; }
.container { max-width: 600px; width: 100%; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
h1 { text-align: center; margin-bottom: 25px; color: #333; font-size: 24px; }
input { width: calc(100% - 130px); padding: 12px; border-radius: 6px; border: 1px solid #ccc; font-size: 16px; }
button { padding: 12px 20px; border-radius: 6px; border: none; background: #4CAF50; color: white; font-weight: bold; cursor: pointer; transition: 0.2s; }
button:hover { background: #45a049; }
#output { margin-top: 25px; }
.strength-bar { width: 100%; height: 20px; background: #eee; border-radius: 10px; overflow: hidden; margin-top: 15px; }
.strength-fill { height: 100%; width: 0%; transition: width 0.5s; }
.weak-fill { background: #e74c3c; }
.medium-fill { background: #f1c40f; }
.strong-fill { background: #2ecc71; }
ul { margin-top: 10px; list-style: disc; padding-left: 20px; }
.issue { color: #e74c3c; font-weight: 500; margin-bottom: 5px; }
.rating { font-weight: bold; font-size: 18px; margin-top: 10px; }
.estimated { margin-top: 5px; font-size: 15px; color: #555; }
</style>
</head>
<body>
<div class="container">
<h1>Password Strength Analyzer and Breach Awareness Tool</h1>
<div style="display: flex; gap:10px;">
<input type="password" id="password" placeholder="Enter password">
<button onclick="analyzePassword()">Check</button>
</div>
<div id="output">
<div class="strength-bar"><div class="strength-fill"></div></div>
</div>
</div>

<script>
const COMMON = ["password","123456","qwerty","admin","welcome","football","letmein"];
const SEQUENCES = ["12345","23456","34567","45678","56789","qwert","asdfg","zxcvb"];

function entropy(password) {
    let size = 0;
    if (/[a-z]/.test(password)) size += 26;
    if (/[A-Z]/.test(password)) size += 26;
    if (/[0-9]/.test(password)) size += 10;
    if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) size += 32;
    return size === 0 ? 0 : password.length * Math.log2(size);
}

function timeToCrack(password) {
    let guesses = Math.pow(2, entropy(password));
    let sec = guesses / 1e9;
    if (sec < 60) return sec.toFixed(2) + " seconds";
    if (sec < 3600) return (sec/60).toFixed(2) + " minutes";
    if (sec < 86400) return (sec/3600).toFixed(2) + " hours";
    if (sec < 31557600) return (sec/86400).toFixed(2) + " days";
    return (sec/31557600).toExponential(2) + " years";
}

function analyzePassword() {
    const pwd = document.getElementById("password").value;
    let issues = [];
    let score = 0;

    if (pwd.length >= 14) score += 2;
    else if (pwd.length >= 10) score += 1;
    else issues.push("Too short");

    if (/[a-z]/.test(pwd)) score += 1; else issues.push("No lowercase letters");
    if (/[A-Z]/.test(pwd)) score += 1; else issues.push("No uppercase letters");
    if (/[0-9]/.test(pwd)) score += 1; else issues.push("No digits");
    if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(pwd)) score += 1; else issues.push("No special characters");

    if (COMMON.includes(pwd.toLowerCase())) { issues.push("Common password"); score -= 2; }

    for (let s of SEQUENCES) { 
        if (pwd.toLowerCase().includes(s)) { issues.push("Common pattern detected"); score -= 1; break; } 
    }

    let rating = score <= 1 ? "Weak" : score <= 4 ? "Medium" : "Strong";
    let crack = timeToCrack(pwd);

    // update strength bar
    const fill = document.querySelector(".strength-fill");
    if (rating === "Weak") { fill.style.width = "33%"; fill.className = "strength-fill weak-fill"; }
    else if (rating === "Medium") { fill.style.width = "66%"; fill.className = "strength-fill medium-fill"; }
    else { fill.style.width = "100%"; fill.className = "strength-fill strong-fill"; }

    let outputHTML = `<p class="rating">Strength: ${rating}</p>`;
    outputHTML += `<p class="estimated">Estimated crack time: ${crack}</p>`;
    if (issues.length > 0) {
        outputHTML += "<ul>";
        issues.forEach(i => { outputHTML += `<li class='issue'>${i}</li>`; });
        outputHTML += "</ul>";
    } else { outputHTML += "<p>No major issues detected</p>"; }

    document.getElementById("output").innerHTML += outputHTML;
}
</script>
</body>
</html>
